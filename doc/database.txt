CREATE TABLE technicien (id BINARY(16) NOT NULL COMMENT '(DC2Type:uuid)', nom_technicien VARCHAR(255) DEFAULT NULL, prenom_technicien VARCHAR(255) DEFAULT NULL, qualif_technicien VARCHAR(255) DEFAULT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB;
CREATE TABLE concert (id BINARY(16) NOT NULL COMMENT '(DC2Type:uuid)', nom_concert VARCHAR(255) DEFAULT NULL, date_concert DATE DEFAULT NULL, nom_salle VARCHAR(255) DEFAULT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB;
CREATE TABLE concert_groupe (concert_id BINARY(16) NOT NULL COMMENT '(DC2Type:uuid)', groupe_id BINARY(16) NOT NULL COMMENT '(DC2Type:uuid)', INDEX IDX_A1B69CA083C97B2E (concert_id), INDEX IDX_A1B69CA07A45358C (groupe_id), PRIMARY KEY(concert_id, groupe_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB;
CREATE TABLE client (id BINARY(16) NOT NULL COMMENT '(DC2Type:uuid)', nom_client VARCHAR(255) DEFAULT NULL, prenom_client VARCHAR(255) DEFAULT NULL, date_reservation DATE DEFAULT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB;
CREATE TABLE billet (id BINARY(16) NOT NULL COMMENT '(DC2Type:uuid)', concert_id BINARY(16) DEFAULT NULL COMMENT '(DC2Type:uuid)', prix_billet INT DEFAULT NULL, reference_billet VARCHAR(255) DEFAULT NULL, INDEX IDX_1F034AF683C97B2E (concert_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB;
CREATE TABLE billet_client (billet_id BINARY(16) NOT NULL COMMENT '(DC2Type:uuid)', client_id BINARY(16) NOT NULL COMMENT '(DC2Type:uuid)', INDEX IDX_D8C0F82644973C78 (billet_id), INDEX IDX_D8C0F82619EB6921 (client_id), PRIMARY KEY(billet_id, client_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB;
CREATE TABLE groupe (id BINARY(16) NOT NULL COMMENT '(DC2Type:uuid)', nom_groupe VARCHAR(255) DEFAULT NULL, categorie_groupe VARCHAR(255) DEFAULT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB;
CREATE TABLE groupe_technicien (groupe_id BINARY(16) NOT NULL COMMENT '(DC2Type:uuid)', technicien_id BINARY(16) NOT NULL COMMENT '(DC2Type:uuid)', INDEX IDX_2EC51D907A45358C (groupe_id), INDEX IDX_2EC51D9013457256 (technicien_id), PRIMARY KEY(groupe_id, technicien_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB;
CREATE TABLE artiste (id BINARY(16) NOT NULL COMMENT '(DC2Type:uuid)', groupe_id BINARY(16) DEFAULT NULL COMMENT '(DC2Type:uuid)', nom_artiste VARCHAR(255) DEFAULT NULL, prenom_artiste VARCHAR(255) DEFAULT NULL, role_artiste VARCHAR(255) DEFAULT NULL, INDEX IDX_9C07354F7A45358C (groupe_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB;
ALTER TABLE concert_groupe ADD CONSTRAINT FK_A1B69CA083C97B2E FOREIGN KEY (concert_id) REFERENCES concert (id) ON DELETE CASCADE;
ALTER TABLE concert_groupe ADD CONSTRAINT FK_A1B69CA07A45358C FOREIGN KEY (groupe_id) REFERENCES groupe (id) ON DELETE CASCADE;
ALTER TABLE billet ADD CONSTRAINT FK_1F034AF683C97B2E FOREIGN KEY (concert_id) REFERENCES concert (id);
ALTER TABLE billet_client ADD CONSTRAINT FK_D8C0F82644973C78 FOREIGN KEY (billet_id) REFERENCES billet (id) ON DELETE CASCADE;
ALTER TABLE billet_client ADD CONSTRAINT FK_D8C0F82619EB6921 FOREIGN KEY (client_id) REFERENCES client (id) ON DELETE CASCADE;
ALTER TABLE groupe_technicien ADD CONSTRAINT FK_2EC51D907A45358C FOREIGN KEY (groupe_id) REFERENCES groupe (id) ON DELETE CASCADE;
ALTER TABLE groupe_technicien ADD CONSTRAINT FK_2EC51D9013457256 FOREIGN KEY (technicien_id) REFERENCES technicien (id) ON DELETE CASCADE;
ALTER TABLE artiste ADD CONSTRAINT FK_9C07354F7A45358C FOREIGN KEY (groupe_id) REFERENCES groupe (id);
